---
title: Markdown でのコンテンツ作成
description: Markdown での書き方を紹介
---

## インラインスタイル

-   **bold テキスト**
-   _イタリック_
-   ~~打ち消し線~~

[リンク](https://starlight.astro.build/ja/guides/authoring-content/)

ここが`強調`されます

## 補足情報の書き方

### 注釈 (note)

:::note
注釈です。

```bash frame="none"

:::note
注釈です。
\:::


```

:::

### ヒント (tip)

:::tip
tip です
:::

#### カスタムタイトルを利用

:::tip[tip をカスタムタイトルしました]
tip です
:::

### 注意 (caution)

:::caution
caution です
:::

### 危険 (danger)

:::danger
danger です
:::

## 引用

> 引用です。
>
> 引用は行の先頭に `>` を入れます。

## コードブロック

### シンタックスハイライトを適用

#### JavaScript のフォーマットを指定

コードブロック記法内の冒頭 4 行までにファイル名を指定すると、フレームのヘッダーにファイル名が表示される

```js
// lang.js
// シンタックスハイライトされたJavascriptコード。
var fun = function lang(l) {
    dateformat.i18n = require("./lang/" + l);
    return true;
};
```

### ラインマーカーの指定

#### ハイライト行の指定

````txt
```js {1, 4, 7-8}
````

```js {1, 4, 7-8}
// Line 1 - targeted by line number
// Line 2
// Line 3
// Line 4 - targeted by line number
// Line 5
// Line 6
// Line 7 - targeted by range "7-8"
// Line 8 - targeted by range "7-8"
```

#### 挿入と削除のラインマーカー

`ins={l}` 、`del{l}` とすると

```js title="line-markers.js" del={2} ins={3-4} {6}
function demo() {
    console.log("this line is marked as deleted");
    // This line and the next one are marked as inserted
    console.log("this is the second inserted line");

    return "this line uses the neutral default marker type";
}
```

#### ラベル

ラインマーカー行の先頭にラベルテキストを追加できる
`ins={"label": 6-10}`

```jsx {"1":5} del={"2":7-8} ins={"labeltext":10-13}
// labeled-line-markers.jsx
<button role="button" {...props} value={value} className={buttonClassName} disabled={disabled} active={active}>
    {children && !active && (typeof children === "string" ? <span>{children}</span> : children)}
</button>
```

:::tips
長めのラベルテキストを利用する場合は、ラベルをマークしているコードの先頭をラベル用に改行する
:::

#### diff-like 構文の使用

コードのバージョン管理を行う git のように、変更差分を表示するための記法

```diff
+this line will be marked as inserted
-this line will be marked as deleted
this is a regular line
```

```diff
--- a/README.md
+++ b/README.md
@@ -1,3 +1,4 @@
+this is an actual diff file
-all contents will remain unmodified
no whitespace will be removed either
```

```diff lang="js"
function thisIsJavaScript() {
    // This entire block gets highlighted as JavaScript,
    // and we can still add diff markers to it!
-   console.log('Old code to be removed')
+   console.log('New and shiny code!')
}
```

### 正規表現によるマーカー

#### まずはプレーンテキストで指定

````txt
```js "given text" /this contains both "double" and 'single' quotes/
````

```js "given text" /this contains both "double" and 'single' quotes/
function demo() {
    console.log("this contains both "double" and 'single' quotes");

    // Mark any given text inside lines
    return "Multiple matches of the given text are supported";
}
```

#### 正規表現でのマーカー

````txt
```ts /ye[sp]/
````

```ts /ye[sp]/
console.log("The words yes and yep will be marked.");
```

```sh frame="none" //ho.*//
echo "Test" > /home/test.txt
```

#### インラインマーカーの種類を選択

````txt
```js "return true;" ins="inserted" del="deleted"
````

```js "return true;" ins="inserted" del="deleted"
function demo() {
    console.log("These are inserted and deleted marker types");
    // The return statement uses the default marker type
    return true;
}
```

### コードブロック内の折り返し

`wrap` または `wrap=true` で折り返し、`wrap=false` で折り返しなし

```js wrap title="折り返し"
// Example with wrap
function getLongString() {
    return "This is a very long string that will most probably not fit into the available space unless the container is extremely wide";
}
```

```js wrap=false title="折り返しなし"
// Example with wrap=false
function getLongString() {
    return "This is a very long string that will most probably not fit into the available space unless the container is extremely wide";
}
```

:::note[astro.config.mjs での利用]

`expressiveCode > defaultProps`

```js
defaultProps: {
    // デフォルトでワードラップを有効
    wrap: true,
    // ターミナル言語の折り返し行インデントを無効にする設定
    overridesByLang: {
        'bash,ps,sh': { preserveIndent: false },
    },
},
```

:::

### Collapsible Sections

コードブロック内に折りたたみセクションを作成できる。
これは、オプショナルブラグインによって長いコードで表示させたくない部分の行の範囲を折りたたんで、
関連する部分だけにすることができる。

折りたたまれたセクションの行は、クリック可能な `X collapsed lines` に置き換えられます。
クリックすると、折りたたまれていたセクションが展開され、それまで隠れていた行が表示されます。

#### インストール

プラグインのインストール

```bash
pnpm add @expressive-code/plugin-collapsible-sections
```

```js ins={3, 10} title="astro.config.mjs"
import { defineConfig } from "astro/config";
import starlight from "@astrojs/starlight";
import { pluginCollapsibleSections } from "@expressive-code/plugin-collapsible-sections";

export default defineConfig({
    integrations: [
        starlight({
            title: "My Starlight site",
            expressiveCode: {
                plugins: [pluginCollapsibleSections()],
            },
        }),
    ],
});
```

#### collapse

```
collapse={range, ...}
```

メタ情報に以下のように記述

````txt
```js collapse={1-5, 12-14}
````

指定した行範囲が折りたたまれている。

```js collapse={1-5, 12-14}
// All this boilerplate setup code will be collapsed
import { someBoilerplateEngine } from "@example/some-boilerplate";
import { evenMoreBoilerplate } from "@example/even-more-boilerplate";

const engine = someBoilerplateEngine(evenMoreBoilerplate());

// This part of the code will be visible by default
engine.doSomething(1, 2, 3, calcFn);

function calcFn() {
    // You can have multiple collapsed sections
    const a = 1;
    const b = 2;
    return a + b;
}
```

[Style](https://expressive-code.com/plugins/collapsible-sections/#styling)

### [行番号の表示](https://expressive-code.com/plugins/line-numbers/)

コードブロック内に行番号を表示するプラグインをインストールする。

#### インストール

```bash
pnpm add @expressive-code/plugin-line-numbers
```

```js ins={3, 10} title="astro.config.mjs"
import { defineConfig } from "astro/config";
import starlight from "@astrojs/starlight";
import { pluginLineNumbers } from "@expressive-code/plugin-line-numbers";

export default defineConfig({
    integrations: [
        starlight({
            title: "My Starlight site",
            expressiveCode: {
                plugins: [pluginLineNumbers()],
            },
        }),
    ],
});
```

#### showLineNubers

行番号表示: `showLineNumbers`, `showLineNumbers=true`

```js showLineNumbers
// This code block will show line numbers
console.log("Greetings from line 2!");
console.log("I am on line 3");
```

行番号表示しない(default): `showLineNumbers=false`

```js showLineNumbers=false
// Line numbers are disabled for this block
console.log("Hello?");
console.log("Sorry, do you know what line I am on?");
```

### その他のプラグイン

https://expressive-code.com/plugins/community-plugins/
