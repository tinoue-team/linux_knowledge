---
title: shutdown
description: システムの停止、電源オフ、再起動を実行する
tags:
    - "Linux"
    - "システム運用・管理"
sidebar:
    # このリンクのカスタムラベルを設定します
    label: shutdown
    # このリンクの順番をカスタマイズします（数字が小さいほど上に表示されます）
    order: 2
    # このリンクにバッジを追加します
    # badge:
    #     text: ""
    #     variant: tip
---

import { LinkCard, Tabs, TabItem } from "@astrojs/starlight/components";
import LinkPreview from "@components/LinkPreview.astro";
import Table from "@components/Table.astro";

## 基本

### 構文

Linux や Unix 系のシステムでシステムの停止、電源オフ、または再起動を実行するためのコマンドです。このコマンドを使うことで、システム管理者は安全にシステムを停止することができる。

```bash frame="none"
shutdown [オプション...] [TIME] [WALL...]
```

時間を指定する文字列を渡すことができます（通常は"now"が使われます）。オプションとして、システム停止前にログインしている全ユーザーに送信されるメッセージを指定できます。

成功時に 0 を返し、失敗時は非ゼロのエラーコードを返す。

### 時間の指定

-   時間指定文字列は "hh" の形式で 24 時間制で指定します。指定した時間にシステムがシャットダウンされます。
-   あるいは、 "+m" の形式で現在から m 分後にシャットダウンすることを指定できます。
-   "now" は "+0" のエイリアスで、即時シャットダウンを意味します。
-   時間引数を指定しない場合は、デフォルトで "+1" （1 分後）となります。
-   **注意:** メッセージを指定するには時間引数も必要です。
-   時間引数を使った場合、システムがダウンする 5 分前に `/run/nologin` ファイルが作成され、新しいログインができなくなります。

## オプション

### オプションリスト

<Table
    caption=""
    columns={["オプション", "省略なし", "説明"]}
    data={[
        ["", "--help", "簡単なヘルプメッセージを表示して終了します。"],
        ["-H", "--halt", "システムを停止します。"],
        ["-P", "--poweroff", "システムの電源をオフにします(デフォルト)"],
        ["-r", "--reboot", "システムを再起動する"],
        [
            "-h",
            "",
            "`--poweroff` と同じですが、アクションが “halt” の時は上書きしない。\n`shutdown --reboot -h` は poweroff になるが、\n`shutdown --halt -h` は halt になる",
        ],
        ["-k", "", "システムを停止、電源オフ、再起動をせずに、ウォールメッセージを送信する"],
        ["", "--no-wall", "停止、電源オフ、再起動前にウォールメッセージを送信しない"],
        ["-c", "", "保留中のシャットダウンをキャンセルする。シャットダウンの待機時間中のキャンセルを行う。"],
        ["", "--show", "保留中のシャットダウンアクションと時間を表示する。"],
    ]}
/>

## 応用例

### 使用例

```bash frame="none"
# 今すぐシャットダウン
shutdown now

# 10 分後にシャットダウン
shutdown +10

# 夜 11 時にシャットダウン
shutdown 23:00

# 再起動
shutdown ーr now

# シャットダウンをキャンセル
shutdown -c

# メッセージ付きでシャットダウン
shutdown +5 "The system will shut down in 5 minutes for maintenance."
```
